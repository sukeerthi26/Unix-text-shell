#include <stdio.h>
#include <unistd.h>
#include <sys/wait.h>


void spawn(int num) {
  pid_t pid;
  int i;

  for (i = 0; i < num; i++) {
    pid = fork();
    if (pid == -1) {
      perror("Error in fork");
      break;
    } else if (pid == 0) {
      
      if (num == 5) {
        spawn(10);
      }

      while (1) { }
    }
  }

  
  while (wait(NULL) > 0) { }
}

int main(void) {
  sleep(120); 
  spawn(5);

  return 0;
}

